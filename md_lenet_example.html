<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>onnx2versal: Lenet Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">onnx2versal
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_lenet_example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Lenet Example </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md13"></a>
Generate</h1>
<div class="fragment"><div class="line">rm ../data/lenet_mnist__* ../data/mnist_test_*</div>
<div class="line">cd python/</div>
<div class="line">python generate_node_data.py</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Manually write</h1>
<div class="fragment"><div class="line">design/aie_src/graph_[net_name].h</div>
<div class="line">design/aie_src/graph_[net_name].cpp</div>
<div class="line">design/host_app_src/[net_name]_aie_app.cpp</div>
<div class="line">design/system_configs/[net_name]_logprofile.cfg</div>
<div class="line">design/system_configs/[net_name].cfg</div>
<div class="line">design/traffic_gen/xtg_[net_name]_logprofile.cfg</div>
<div class="line">design/traffic_gen/xtg_[net_name].cfg</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Make notes</h1>
<div class="fragment"><div class="line">EXTIO: 0|1        whether to use external traffic generator, only graph tests</div>
<div class="line">                  host app in system tests is equivalent of traffic generator</div>
<div class="line">LOG_PROFILE: 0|1  whether to stdout profile logs and output intermediates</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Run x86sim graph (~1 min compile)</h1>
<p>For graph test, ITER_CNT (default 1) is used in compilation</p><ul>
<li>Analyze graph compilation after compile: <br  />
 <code>vitis_analyzer build/lenet/sw_emu/Work/graph_lenet.aiecompile_summary</code></li>
<li>Clean build: <br  />
 <code>TARGET=sw_emu GRAPH=lenet make clean</code></li>
</ul>
<details >
<summary >
</summary>
<p><b>Compile-time file input, output intermediate results:</b><br  />
 <code>TARGET=sw_emu EXTIO=0 LOG_PROFILE=1 GRAPH=lenet make clean_reports graph aiesim</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">Checking 1/6: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/6: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/6: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/6: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/6: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/6: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    └── sw_emu</div>
<div class="line">        └── x86simulator_output</div>
<div class="line">            ├── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">            ├── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">            ├── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">            ├── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">            ├── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">            ├── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">            ├── lenet_out.txt</div>
<div class="line">            ├── x86sim.aierun_summary</div>
<div class="line">            ├── x86sim_check.log</div>
<div class="line">            └── x86simulator.log</div>
</div><!-- fragment --> </details>
<details >
<summary >
</summary>
<p><b>External traffic generator, output prediction only:</b><br  />
 <code>TARGET=sw_emu EXTIO=1 LOG_PROFILE=0 GRAPH=lenet make clean_reports graph aiesim ITER_CNT=100</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">17:05:09: Creating ipc_axis_master_util for plin0_lenet_input...</div>
<div class="line">17:05:09: Creating ipc_axis_slave_util for plout0_lenet_argm19...</div>
<div class="line">17:05:09: Begin run...</div>
<div class="line">17:05:09: Running master plin0_lenet_input</div>
<div class="line">17:05:09: Running slave plout0_lenet_argm19</div>
<div class="line">17:05:09: [plin0_lenet_input]: Sending 39200 float32 data...</div>
<div class="line">17:05:10: [plout0_lenet_argm19]: read lines #0</div>
<div class="line">17:05:11: [plout0_lenet_argm19]: read lines #1</div>
<div class="line">17:05:12: [plout0_lenet_argm19]: read lines #2</div>
<div class="line">...</div>
<div class="line">17:06:46: [plout0_lenet_argm19]: read lines #98</div>
<div class="line">17:06:47: [plout0_lenet_argm19]: read lines #99</div>
<div class="line">17:06:47: Slave plout0_lenet_argm19 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/sw_emu/x86simulator_output/mnist_test_label.txt</div>
<div class="line">17:06:47: Master plin0_lenet_input finished.</div>
<div class="line">|INFO | plout0_lenet_argm19 will connect to :: /tmp/unix_ruien:plout0_lenet_argm19</div>
<div class="line">|INFO | plin0_lenet_input will connect to :: /tmp/unix_ruien:plin0_lenet_input</div>
<div class="line">[init lenet]: success</div>
<div class="line">[run lenet]: success</div>
<div class="line">|ERROR| plin0_lenet_input Failed to read data : Address already in use1|ERROR| plout0_lenet_argm19 Failed to read data : Success1|ERROR| plout0_lenet_argm19INFO: Connection with &#39;plin0_lenet_input&#39; closed.</div>
<div class="line"> caught exception : Failed to read data1[end lenet]: success</div>
<div class="line">Simulation completed successfully returning zero</div>
<div class="line">Checking directories /home/ruien/workspace/onnx2versal/reports_dir/lenet/sw_emu/x86simulator_output and /home/ruien/workspace/onnx2versal/data</div>
<div class="line">Checking 1/1: mnist_test_label.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    └── sw_emu</div>
<div class="line">        └── x86simulator_output</div>
<div class="line">            ├── mnist_test_label.txt</div>
<div class="line">            ├── x86sim.aierun_summary</div>
<div class="line">            ├── x86sim_check.log</div>
<div class="line">            ├── x86sim_filetraffic.log</div>
<div class="line">            └── x86simulator.log</div>
</div><!-- fragment --> </details>
<details >
<summary >
</summary>
<p><b>External traffic generator, output intermediate results:</b><br  />
 <code>TARGET=sw_emu EXTIO=1 LOG_PROFILE=1 GRAPH=lenet make clean_reports graph aiesim</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">Checking 1/6: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/6: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/6: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/6: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/6: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/6: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    └── sw_emu</div>
<div class="line">        └── x86simulator_output</div>
<div class="line">            ├── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">            ├── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">            ├── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">            ├── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">            ├── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">            ├── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">            ├── lenet_out.txt</div>
<div class="line">            ├── x86sim.aierun_summary</div>
<div class="line">            ├── x86sim_check.log</div>
<div class="line">            ├── x86sim_filetraffic.log</div>
<div class="line">            └── x86simulator.log</div>
</div><!-- fragment --> </details>
<p><br  />
</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Run x86sim system (~2 min compile)</h1>
<p>For system test, ITER_CNT is an argument into host app.</p><ul>
<li>Analyze system compilation after compile: <br  />
 <code>vitis_analyzer build/lenet/sw_emu/vck190_lenet_aie.xsa.link_summary</code></li>
<li>Clean build: <br  />
 <code>TARGET=sw_emu GRAPH=lenet make clean</code></li>
</ul>
<details >
<summary >
</summary>
<p><b>Test system with x86 AIE, sysC PL, x86 PS, prediction only:</b><br  />
 <code>TARGET=sw_emu EXTIO=0 LOG_PROFILE=0 GRAPH=lenet make graph kernels xsa application package</code><br  />
 <code>TARGET=sw_emu EXTIO=0 LOG_PROFILE=0 GRAPH=lenet make clean_reports run_emu ITER_CNT=100</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">CRITICAL WARNING: [SW-EM 09-0] Unable to find emconfig.json. Using default device &quot;xilinx:pcie-hw-em:7v3:1.0&quot;</div>
<div class="line">CRITICAL WARNING: [SW-EM 09-0] Unable to find emconfig.json. Using default device &quot;xilinx:pcie-hw-em:7v3:1.0&quot;</div>
<div class="line">Input memory virtual addr 0x0x7f0bc8000000</div>
<div class="line">Output memory virtual addr 0x0x7f07c8000000</div>
<div class="line">xrtBOSync done.</div>
<div class="line">[init lenet]: success</div>
<div class="line">Kernel Name: mm2s_0, CU Number: 0, Thread creation status: success</div>
<div class="line">Kernel Name: s2mm_0, CU Number: 1, Thread creation status: success</div>
<div class="line">Kernel Name: mm2s_0, CU Number: 0, State: Start</div>
<div class="line">Kernel Name: mm2s_0, CU Number: 0, State: Running</div>
<div class="line">Kernel Name: s2mm_0, CU Number: 1, State: Start</div>
<div class="line">Kernel Name: s2mm_0, CU Number: 1, State: Running</div>
<div class="line">Kernel Name: mm2s_0, CU Number: 0, State: Idle</div>
<div class="line">Kernel Name: s2mm_0, CU Number: 1, State: Idle</div>
<div class="line">device process sw_emu_device done</div>
<div class="line">Kernel Name: mm2s_0, CU Number: 0, Status: Shutdown</div>
<div class="line">Kernel Name: s2mm_0, CU Number: 1, Status: Shutdown</div>
<div class="line">INFO [HLS SIM]: The maximum depth reached by any hls::stream() instance in the design is 76831</div>
<div class="line">INFO [HLS SIM]: The maximum depth reached by any hls::stream() instance in the design is 1</div>
<div class="line">[run lenet]: success</div>
<div class="line">[wait lenet]: success</div>
<div class="line">[end lenet]: success</div>
<div class="line">Waiting for dma hls to complete...</div>
<div class="line">mm2s completed with status (4)</div>
<div class="line">s2mm completed with status (4)</div>
<div class="line">Closed runtime handlers and kernel handlers...</div>
<div class="line">Released I/O buffer objects.</div>
<div class="line">Checking directories /home/ruien/workspace/onnx2versal/reports_dir/lenet/sw_emu/x86simulator_output and /home/ruien/workspace/onnx2versal/data</div>
<div class="line">Checking 1/1: mnist_test_label.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    └── sw_emu</div>
<div class="line">        └── x86simulator_output</div>
<div class="line">            ├── embedded_run.log</div>
<div class="line">            ├── mnist_test_label.txt</div>
<div class="line">            └── x86sim_check.log</div>
</div><!-- fragment --> </details>
<details >
<summary >
</summary>
<p><b>Test system with x86 AIE, sysC PL, x86 PS, output intermediates:</b><br  />
 This fails mnist_test_label.txt check since only 1 iteration is done, should pass intermediate tests<br  />
 <code>TARGET=sw_emu EXTIO=0 LOG_PROFILE=1 GRAPH=lenet make graph kernels xsa application package</code><br  />
 <code>TARGET=sw_emu EXTIO=0 LOG_PROFILE=1 GRAPH=lenet make clean_reports run_emu ITER_CNT=1</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">Checking 1/7: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/7: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/7: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/7: mnist_test_label.txt</div>
<div class="line">WARNING: arr1 shape (1, 2), arr2 shape (50, 2)</div>
<div class="line">TEST (tolerance): first 2 FAILED! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/7: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/7: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 7/7: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Traceback (most recent call last):</div>
<div class="line">  File &quot;/home/ruien/workspace/onnx2versal/check.py&quot;, line 74, in &lt;module&gt;</div>
<div class="line">    assert(pass_count == len(filenames)), f&quot;{pass_count} / {len(filenames)} tests passed.&quot;</div>
<div class="line">AssertionError: 6 / 7 tests passed.</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">└── lenet</div>
<div class="line">    └── sw_emu</div>
<div class="line">        └── x86simulator_output</div>
<div class="line">            ├── embedded_run.log</div>
<div class="line">            ├── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">            ├── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">            ├── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">            ├── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">            ├── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">            ├── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">            ├── mnist_test_label.txt</div>
<div class="line">            └── x86sim_check.log</div>
</div><!-- fragment --> </details>
<p><br  />
</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Run sysC graph (~4.5 min compile, ~8 min run)</h1>
<p>Only can output maximum of 6-7 intermediates since AIE only has 8 cascade lines. aiesim_profile allows printf and timing.</p><ul>
<li>Analyze graph compilation after compile: <br  />
 <code>vitis_analyzer build/lenet/hw_emu/Work/graph_lenet.aiecompile_summary</code></li>
<li>Analyze profiled info after run (includes graph analysis): <br  />
 <code>vitis_analyzer reports_dir/lenet/hw_emu/aiesimulator_output/default.aierun_summary</code></li>
<li>Clean build: <br  />
 <code>TARGET=hw_emu GRAPH=lenet make clean</code></li>
</ul>
<details >
<summary >
</summary>
<p><b>Test the graph with SysC, outputs intermediate results:</b><br  />
 <code>TARGET=hw_emu EXTIO=0 LOG_PROFILE=1 GRAPH=lenet make graph clean_reports aiesim_profile</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">[init lenet]: success</div>
<div class="line">Set iterations for the core(s) of graph lenet</div>
<div class="line">Enabling core(s) of graph lenet</div>
<div class="line">[run graph]: success</div>
<div class="line">Waiting for core(s) of graph lenet to finish execution ...</div>
<div class="line">Running Conv5x5ReluBCHW&lt;28, 24, 1, 1, 6&gt;</div>
<div class="line">start = 3647,end = 24918,total = 21271</div>
<div class="line">Running Maxpool2x2BCHW::filter&lt;24, 12, 1, 6&gt;</div>
<div class="line">start = 29335,end = 30236,total = 901</div>
<div class="line">Running Conv5x5ReluBCHW&lt;12, 8, 1, 6, 16&gt;</div>
<div class="line">start = 31414,end = 72938,total = 41524</div>
<div class="line">Running Maxpool2x2BCHW::filter&lt;8, 4, 1, 16&gt;</div>
<div class="line">start = 74309,end = 74600,total = 291</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">start = 75024,end = 75927,total = 903</div>
<div class="line">start = 75028,end = 75931,total = 903</div>
<div class="line">start = 75028,end = 75931,total = 903</div>
<div class="line">start = 75032,end = 75935,total = 903</div>
<div class="line">start = 75036,end = 75939,total = 903</div>
<div class="line">start = 75040,end = 75943,total = 903</div>
<div class="line">start = 75044,end = 75947,total = 903</div>
<div class="line">start = 75048,end = 75951,total = 903</div>
<div class="line">Running Concat8Scalar&lt;16, 16, 120&gt;</div>
<div class="line">start = 76162,end = 76724,total = 562</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">start = 77040,end = 77928,total = 888</div>
<div class="line">start = 77044,end = 77932,total = 888</div>
<div class="line">start = 77048,end = 77936,total = 888</div>
<div class="line">Running Concat3Scalar&lt;32, 32, 84&gt;</div>
<div class="line">start = 78131,end = 78962,total = 831</div>
<div class="line">Running GemmReluMKKN&lt;1, 84, 48&gt;</div>
<div class="line">start = 79226,end = 80199,total = 973</div>
<div class="line">Running Concat1Scalar&lt;48, 48, 10&gt;</div>
<div class="line">start = 80343,end = 81221,total = 878</div>
<div class="line">Running ArgmaxScalar&lt;10, 10&gt;</div>
<div class="line">start = 81407,end = 81543,total = 136</div>
<div class="line">core(s) are done executing</div>
<div class="line">[wait graph]: success</div>
<div class="line">plout[0]: Cycles 21 Throughput 476190476.190476 samples/s</div>
<div class="line">Waiting for core(s) of graph lenet to finish execution ...</div>
<div class="line">core(s) are done executing</div>
<div class="line">[end lenet]: success</div>
<div class="line">Exiting!</div>
<div class="line">generate profile data for all cores</div>
<div class="line">generate profile data for all cores</div>
<div class="line">Stopping Simulator.</div>
<div class="line">...</div>
<div class="line">Checking 1/6: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/6: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/6: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/6: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/6: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/6: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    ├── hw_emu</div>
<div class="line">    │   └── aiesimulator_output</div>
<div class="line">    │       ├── aiesim.log</div>
<div class="line">    │       ├── aiesim_options.txt</div>
<div class="line">    │       ├── default.aierun_summary</div>
<div class="line">    │       ├── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">    │       ├── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">    │       ├── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">    │       ├── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">    │       ├── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">    │       ├── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">    │       ├── lenet_out.txt</div>
<div class="line">    │       ├── memconfig.json</div>
<div class="line">    │       ├── profile_funct_22_4.txt</div>
<div class="line">    │       ├── profile_funct_22_4.xml</div>
<div class="line">    │       ├── profile_funct_22_5.txt</div>
<div class="line">    │       ├── profile_funct_22_5.xml</div>
<div class="line">    │       ...</div>
<div class="line">    │       ├── profile_instr_28_6.txt</div>
<div class="line">    │       ├── profile_instr_28_6.xml</div>
<div class="line">    │       ├── region_0x0_0x7fffffff.mmap.dat</div>
<div class="line">    │       └── x86sim_check.log</div>
</div><!-- fragment --> </details>
<details >
<summary >
</summary>
<p><b>Test the graph with SysC, outputs predictions, use external traffic generator:</b><br  />
 <code>TARGET=hw_emu EXTIO=1 LOG_PROFILE=0 GRAPH=lenet make graph clean_reports aiesim_profile</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
</div><!-- fragment --> </details>
<p><br  />
</p>
<details >
<summary >
</summary>
<p><b>Test the graph with SysC, outputs intermediate result, use external traffic generator:</b><br  />
 <code>TARGET=hw_emu EXTIO=1 LOG_PROFILE=1 GRAPH=lenet make graph clean_reports aiesim_profile</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">[INFO]: Enabled Stream Switch Port Latency </div>
<div class="line">18:04:39: Creating ipc_axis_master_util for plin0_lenet_input...</div>
<div class="line">18:04:39: Creating ipc_axis_slave_util for plout0_lenet_argm19...</div>
<div class="line">IP-INFO: [ps_i28_ps_main] IP started.</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout1_lenet_conv00...</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout2_lenet_pool01...</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout3_lenet_conv02...</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout4_lenet_gemm14...</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout5_lenet_gemm16...</div>
<div class="line">18:04:40: Creating ipc_axis_slave_util for plout6_lenet_gemm18...</div>
<div class="line">18:04:40: Begin run...</div>
<div class="line">18:04:40: Running master plin0_lenet_input</div>
<div class="line">18:04:40: [plin0_lenet_input]: Sending 392 float32 data...</div>
<div class="line">18:04:40: Running slave plout0_lenet_argm19</div>
<div class="line">18:04:40: Running slave plout1_lenet_conv00</div>
<div class="line">18:04:40: Running slave plout2_lenet_pool01</div>
<div class="line">18:04:40: Running slave plout3_lenet_conv02</div>
<div class="line">18:04:40: Running slave plout4_lenet_gemm14</div>
<div class="line">18:04:40: Running slave plout5_lenet_gemm16</div>
<div class="line">18:04:40: Running slave plout6_lenet_gemm18</div>
<div class="line">...</div>
<div class="line">[init lenet]: success</div>
<div class="line">Set iterations for the core(s) of graph lenet</div>
<div class="line">Enabling core(s) of graph lenet</div>
<div class="line">[run graph]: success</div>
<div class="line">Waiting for core(s) of graph lenet to finish execution ...</div>
<div class="line">Running Conv5x5ReluBCHW&lt;28, 24, 1, 1, 6&gt;</div>
<div class="line">start = 3462,end = 24733,total = 21271</div>
<div class="line">Running Maxpool2x2BCHW::filter&lt;24, 12, 1, 6&gt;</div>
<div class="line">18:08:45: [plout1_lenet_conv00]: read lines #0</div>
<div class="line">start = 28357,end = 29258,total = 901</div>
<div class="line">Running Conv5x5ReluBCHW&lt;12, 8, 1, 6, 16&gt;</div>
<div class="line">18:09:01: [plout2_lenet_pool01]: read lines #0</div>
<div class="line">start = 30297,end = 71821,total = 41524</div>
<div class="line">Running Maxpool2x2BCHW::filter&lt;8, 4, 1, 16&gt;</div>
<div class="line">18:15:00: [plout3_lenet_conv02]: read lines #0</div>
<div class="line">start = 73009,end = 73300,total = 291</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 256, 16&gt;</div>
<div class="line">start = 73724,end = 74627,total = 903</div>
<div class="line">start = 73728,end = 74631,total = 903</div>
<div class="line">start = 73728,end = 74631,total = 903</div>
<div class="line">start = 73732,end = 74635,total = 903</div>
<div class="line">start = 73736,end = 74639,total = 903</div>
<div class="line">start = 73740,end = 74643,total = 903</div>
<div class="line">start = 73744,end = 74647,total = 903</div>
<div class="line">start = 73748,end = 74651,total = 903</div>
<div class="line">Running Concat8Scalar&lt;16, 16, 120&gt;</div>
<div class="line">start = 74862,end = 75424,total = 562</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">Running GemmReluMKKN&lt;1, 120, 32&gt;</div>
<div class="line">18:15:23: [plout4_lenet_gemm14]: read lines #0</div>
<div class="line">start = 75740,end = 76628,total = 888</div>
<div class="line">start = 75744,end = 76632,total = 888</div>
<div class="line">start = 75748,end = 76636,total = 888</div>
<div class="line">Running Concat3Scalar&lt;32, 32, 84&gt;</div>
<div class="line">start = 76831,end = 77662,total = 831</div>
<div class="line">Running GemmReluMKKN&lt;1, 84, 48&gt;</div>
<div class="line">18:15:42: [plout5_lenet_gemm16]: read lines #0</div>
<div class="line">start = 77926,end = 78899,total = 973</div>
<div class="line">Running Concat1Scalar&lt;48, 48, 10&gt;</div>
<div class="line">start = 79043,end = 79921,total = 878</div>
<div class="line">Running ArgmaxScalar&lt;10, 10&gt;</div>
<div class="line">18:16:00: [plout6_lenet_gemm18]: read lines #0</div>
<div class="line">start = 80107,end = 80243,total = 136</div>
<div class="line">18:16:02: [plout0_lenet_argm19]: read lines #0</div>
<div class="line">18:16:02: Slave plout0_lenet_argm19 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_out.txt</div>
<div class="line">18:16:02: Slave plout1_lenet_conv00 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">18:16:02: Slave plout2_lenet_pool01 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">18:16:02: Slave plout3_lenet_conv02 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">18:16:02: Slave plout4_lenet_gemm14 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">18:16:02: Slave plout5_lenet_gemm16 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">18:16:02: Slave plout6_lenet_gemm18 finished. Written to /home/ruien/workspace/onnx2versal/reports_dir/lenet/hw_emu/aiesimulator_output/lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">18:16:02: Master plin0_lenet_input finished.</div>
<div class="line">...</div>
<div class="line">Checking 1/6: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/6: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/6: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/6: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/6: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/6: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">reports_dir/</div>
<div class="line">└── lenet</div>
<div class="line">    ├── hw_emu</div>
<div class="line">    │   └── aiesimulator_output</div>
<div class="line">    │       ├── aiesim_filetraffic.log</div>
<div class="line">    │       ├── aiesim.log</div>
<div class="line">    │       ├── aiesim_options.txt</div>
<div class="line">    │       ├── default.aierun_summary</div>
<div class="line">    │       ├── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">    │       ├── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">    │       ├── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">    │       ├── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">    │       ├── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">    │       ├── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">    │       ├── lenet_out.txt</div>
<div class="line">    │       ├── memconfig.json</div>
<div class="line">    │       ├── profile_funct_22_4.txt</div>
<div class="line">    │       ├── profile_funct_22_4.xml</div>
<div class="line">    │       ├── profile_funct_22_5.txt</div>
<div class="line">    │       ├── profile_funct_22_5.xml</div>
<div class="line">    │       ...</div>
<div class="line">    │       ├── profile_instr_28_6.txt</div>
<div class="line">    │       ├── profile_instr_28_6.xml</div>
<div class="line">    │       ├── region_0x0_0x7fffffff.mmap.dat</div>
<div class="line">    │       └── x86sim_check.log</div>
</div><!-- fragment --> </details>
<p><br  />
</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Run sysC system (~15min compile, ~30min run)</h1>
<ul>
<li>Analyze system compilation after compile: <br  />
 <code>vitis_analyzer build/lenet/hw_emu/vck190_lenet_aie.xsa.link_summary</code></li>
<li>Analyze profiled info after run (includes system analysis): <br  />
 <code>vitis_analyzer reports_dir/lenet/hw_emu/aiesimulator_output/default.aierun_summary</code></li>
<li>Clean build: <br  />
 <code>TARGET=hw_emu GRAPH=lenet make clean</code></li>
</ul>
<details >
<summary >
</summary>
<p><b>Test system with SysC AIE, SysC PL, SysC NoC, SysC DDR, QEMU PS:</b><br  />
 This fails mnist_test_label.txt check since only 1 iteration is done, should pass intermediate tests<br  />
 <code>TARGET=hw_emu EXTIO=0 LOG_PROFILE=0 GRAPH=lenet make clean graph kernels xsa application package</code><br  />
 <code>TARGET=hw_emu EXTIO=0 LOG_PROFILE=0 GRAPH=lenet make clean_reports run_emu ITER_CNT=1</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
<div class="line">Initializing ADF API...</div>
<div class="line"> </div>
<div class="line">Config:</div>
<div class="line">xclbin: a.xclbin</div>
<div class="line">iter_cnt: 1</div>
<div class="line">data_dir: data/</div>
<div class="line">out_dir: output/</div>
<div class="line"> </div>
<div class="line">XAIEFAL: INFO: Resource group Avail is created.</div>
<div class="line">XAIEFAL: INFO: Resource group Static is created.</div>
<div class="line">XAIEFAL: INFO: Resource group Generic is created.</div>
<div class="line">Input memory virtual addr 0x0xffffa50f5000</div>
<div class="line">Output memory virtual addr 0x0xffffa50f4000</div>
<div class="line">Inter1 memory virtual addr 0x0xffff85eac000</div>
<div class="line">Inter2 memory virtual addr 0x0xffff85eab000</div>
<div class="line">Inter3 memory virtual addr 0x0xffff85eaa000</div>
<div class="line">Inter4 memory virtual addr 0x0xffff85ea9000</div>
<div class="line">Inter5 memory virtual addr 0x0xffff85ea8000</div>
<div class="line">Inter6 memory virtual addr 0x0xffff85ea7000</div>
<div class="line">[init lenet]: success</div>
<div class="line">XRT build version: 2.14.0</div>
<div class="line">Build hash: 43926231f7183688add2dccfd391b36a1f000bea</div>
<div class="line">Build date: 2022-10-07 05:12:02</div>
<div class="line">Git branch: 2022.2</div>
<div class="line">PID: 592</div>
<div class="line">UID: 0</div>
<div class="line">[Mon May 15 01:37:55 2023 GMT]</div>
<div class="line">HOST: </div>
<div class="line">EXE: /mnt/lenet_aie_xrt.elf</div>
<div class="line">[XRT] ERROR: Can&#39;t start profiling: port name &#39;plout0_lenet_argm19&#39; not found: Invalid argument</div>
<div class="line">[run graph]: success</div>
<div class="line">[wait graph]: success</div>
<div class="line">plout[0]: ERROR: Invalid handle. Only two performance counter in a AIE-PL interface tile. Event profile is not supported for x86sim.</div>
<div class="line">[end lenet]: success</div>
<div class="line">Waiting for dma hls to complete...</div>
<div class="line">mm2s completed with status (4)</div>
<div class="line">s2mm completed with status (4)</div>
<div class="line">Closed runtime handlers and kernel handlers...</div>
<div class="line">inter1 completed with status (4)</div>
<div class="line">inter2 completed with status (4)</div>
<div class="line">inter3 completed with status (4)</div>
<div class="line">inter4 completed with status (4)</div>
<div class="line">inter5 completed with status (4)</div>
<div class="line">inter6 completed with status (4)</div>
<div class="line">Released I/O buffer objects.</div>
<div class="line">INFO: TEST PASSED, RC=0</div>
<div class="line"> </div>
<div class="line">11 minutes and 3 seconds elapsed.</div>
<div class="line"> </div>
<div class="line">Checking 1/7: lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 2/7: mnist_test_label.txt</div>
<div class="line">WARNING: arr1 shape (50, 2), arr2 shape (1, 2)</div>
<div class="line">TEST (tolerance): first 2 FAILED! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 3/7: lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 4/7: lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 5/7: lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 6/7: lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
<div class="line">Checking 7/7: lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">TEST (tolerance): OK! (rtol=1e-03, atol=1e-05)</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">outputs/</div>
<div class="line">└── lenet_mnist__15___relu3_Relu___relu3_Relu_output_0__1x120.txt</div>
<div class="line">└── lenet_mnist__17___relu4_Relu___relu4_Relu_output_0__1x84.txt</div>
<div class="line">└── lenet_mnist__19___relu5_Relu__output__1x10.txt</div>
<div class="line">└── lenet_mnist__1___relu1_Relu___relu1_Relu_output_0__1x6x24x24.txt</div>
<div class="line">└── lenet_mnist__2___pool1_MaxPool___pool1_MaxPool_output_0__1x6x12x12.txt</div>
<div class="line">└── lenet_mnist__4___relu2_Relu___relu2_Relu_output_0__1x16x8x8.txt</div>
<div class="line">└── mnist_test_label.txt</div>
</div><!-- fragment --> </details>
<p><br  />
</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Test system on hardware (~1h compile, ~6min flash, ~10s boot, ~0s run)</h1>
<details >
<summary >
</summary>
<p><b>Test system on hardware:</b><br  />
 <code>TARGET=hw EXTIO=0 LOG_PROFILE=0 GRAPH=lenet make clean graph kernels xsa application package</code><br  />
 <code>sudo dd if=build/lenet/hw_emu/package/sd_card.img of=/dev/mmcblk0 conv=fsync status=progress</code> </p>
<p></p>
<div class="fragment"><div class="line">stdout:</div>
</div><!-- fragment --><div class="fragment"><div class="line">files:</div>
<div class="line">outputs/</div>
<div class="line">└── mnist_test_label.txt</div>
</div><!-- fragment --> </details>
<p><br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
